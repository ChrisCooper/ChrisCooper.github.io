---
layout: titled_page
title: Projects and Skills
search_title70: Resume
extra_css:
    - languages.css
---

<div class="filterContainer">
  <input class="filter" type="text" placeholder="e.g. 'Python' or 'Qcumber'">
  <span class="filter-checks">
    <label>
      <input type="checkbox" id="checkLangs" value="langs" checked> Languages
    </label>
    <label>
      <input type="checkbox" id="checkLibs" value="libs" checked> Libraries &amp; Frameworks
    </label>
    <label>
      <input type="checkbox" id="checkOther" value="other" checked> Other
    </label>
  </span>
</div>

<div id="projects-list">
</div>

<script type="text/jsx">

var all_projects = {{ site.data.projects | jsonify }};

var ProjectList = React.createClass({
    getInitialState: function () {
        return {projects: this.props.allProjects};
    },
    filterWithText: function (filter_text) {
      var fake_projects = [{"name": "Project with " + filter_text}];
      this.setState({projects: fake_projects});
    },
    render: function () {
        var nodes = this.state.projects.map(function (proj) {
            return (
                <ProjectOverview project={proj}>
                </ProjectOverview>
            );
        });
        return (
            <ul className="ProjectList">
                {nodes}
            </ul>
        );
    }
});

var ProjectOverview = React.createClass({
    render: function () {
        var proj = this.props.project;

        var default_url = proj.live_url;

        var image_url = "/static/images/projects/" + proj.small_image;

        return (
            <li className="ProjectOverview">
                <div className="inline-tile-image-container">
                  <a href={default_url}>
                    <img className="inline-tile-image" src={image_url} alt={proj.name}/>
                  </a>
                </div>
                <div className="projectInfo">
                    <h2 className="title">
                        <a href={proj.url}>{proj.name}</a>
                    </h2>
                    <p>{proj.brief}</p>
                    <p>
                        <a href={proj.source}><span className="fa fa-github fa-2x"></span> View source
                        </a>
                    </p>
                    <SkillsList skills={proj.skills}>
                    </SkillsList>
                </div>
            </li>
        );
    }
});

var SkillsList = React.createClass({
    render: function () {
        var skills = this.props.skills;
        var skill_names = Object.keys(skills);

        // Sort the skills by their usage ratings
        skill_names.sort(skillComparator(skills));

        var skill_tags = skill_names.map(function (skill_name) {
          // Scale the opacity by usage rating
          var style = {opacity: (skills[skill_name]/80.0) + 0.2};
            return (
                <a href="#" style={style} className="skill-tag">{skill_name}</a>
            );
        });

        return (
            <div className="SkillsList">
                {skill_tags}
            </div>
        );
    }
});

function skillComparator(skill_set) {
  return(
    function compareSkills(a,b) {
      if (skill_set[a] < skill_set[b])
        return 1;
      if (skill_set[a] > skill_set[b])
        return -1;
      return 0;
    }
  );
}

// React init and display all projects
React.render(
  <ProjectList allProjects={all_projects} />,
  $("#projects-list")[0]
);

</script>